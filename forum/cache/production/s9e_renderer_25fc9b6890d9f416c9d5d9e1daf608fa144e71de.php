<?php

/**
* @package   s9e\TextFormatter
* @copyright Copyright (c) 2010-2016 The s9e Authors
* @license   http://www.opensource.org/licenses/mit-license.php The MIT License
*/
class s9e_renderer_25fc9b6890d9f416c9d5d9e1daf608fa144e71de extends \s9e\TextFormatter\Renderer
{
	protected $params=array('L_CODE'=>'','L_COLON'=>'','L_IMAGE'=>'','L_QR_BBPOST'=>'','L_SELECT_ALL_CODE'=>'','L_WROTE'=>'','S_VIEWFLASH'=>'','S_VIEWIMG'=>'','S_VIEWSMILIES'=>'','T_SMILIES_PATH'=>'');
	protected static $tagBranches=array('ATTACHMENT'=>0,'B'=>1,'CENTER'=>2,'CODE'=>3,'COLOR'=>4,'E'=>5,'EMAIL'=>6,'EMOJI'=>7,'FLASH'=>8,'I'=>9,'IMG'=>10,'IMG_LEFT'=>11,'IMG_RIGHT'=>12,'LEFT'=>13,'LI'=>14,'LINK_TEXT'=>15,'LIST'=>16,'MEDIA'=>17,'POST'=>18,'QUOTE'=>19,'REF'=>20,'SIZE'=>21,'U'=>22,'URL'=>23,'YOUTUBE'=>24,'br'=>25,'e'=>26,'i'=>26,'s'=>26,'p'=>27);
	protected static $btA12D095E=array('8-)'=>0,':!:'=>1,':('=>2,':)'=>3,':)-(:'=>4,':-('=>5,':-)'=>6,':-):'=>7,':-:ok:-:'=>8,':-?'=>9,':-D'=>10,':-P'=>11,':-o'=>12,':-ok-:'=>13,':-x'=>14,':-|'=>15,':-|-:'=>16,'::yaz-yk:'=>17,':;(:'=>18,':;;D:'=>19,':;D:'=>20,':;ne_gr:'=>21,':?'=>22,':?:'=>23,':???:'=>24,':D'=>25,':O_O:'=>26,':P'=>27,':a_g_a:'=>28,':ad_min_v_duhe:'=>29,':aiki-do:'=>30,':al_kana_ft:'=>31,':an)(gel:'=>32,':an_gel:'=>33,':ar_ti_st:'=>34,':arrow:'=>35,':ba_bo_ch_ka:'=>36,':bet_ment:'=>37,':bo_ga_tyr:'=>38,':bomb:'=>39,':bra_vo:'=>40,':chir_lider:'=>41,':co_ol:'=>42,':cool2:'=>43,':cool3:'=>44,':cool:'=>45,':cool_cool:'=>46,':cry:'=>47,':cry_ing:'=>48,':cve_ty:'=>49,':dan_ser:'=>50,':danser_dans:'=>51,':de_vil:'=>52,':ded_moroz:'=>53,':dev_ka:'=>54,':dr_ink:'=>55,':dra_chun:'=>56,':du-ra:'=>57,':du_el:'=>58,':du_ma_et:'=>59,':e-d-a:'=>60,':eek:'=>61,':evil:'=>62,':ex_po_bo_ku:'=>63,':exp_minus:'=>64,':f-l-u-d:'=>65,':fe_me_ly:'=>66,':fe_mi_ni_zm;'=>67,':fo_tik:'=>68,':foo_t_bol:'=>69,':fuck:'=>70,':ga-ze-ta;'=>71,':gar_mo:nist:'=>72,':geek:'=>73,':gim-nast:'=>74,':gir_l-fri_end:'=>75,':good:'=>76,':goria_cho:'=>77,':grin:'=>78,':hea_rt:'=>79,':hi_hi_hi:'=>80,':ho-key:'=>81,':hu_li:gan:'=>82,':hudo_zhnik:'=>83,':idea:'=>84,':ig_ro_ki:'=>85,':igru_shka:'=>86,':is_te_ri_ka:'=>87,':jn_pu_sk:'=>88,':k_i_n_g:'=>89,':kav_boy:'=>90,':ki-)(-:'=>91,':ki_ng:'=>92,':ki_ss:'=>93,':kli_ny:'=>94,':ko_pi_lka:'=>95,':ko_re:sha:'=>96,':ku_bok:'=>97,':lo)(ve:'=>98,':lo_ve:'=>99,':lol:'=>100,':mad:'=>101,':med_ses_tra:'=>102,':men:'=>103,':mi_ga_et:'=>104,':mo-ro_zi_vo:'=>105,':mrgreen:'=>106,':mu_zyk:'=>107,':na_met_le:'=>108,':nalodke2:'=>109,':nalodke:'=>110,':ne_ne_ne:'=>111,':ne_ot_ho_di:'=>112,':ne_vi_del:'=>113,':nel-zya:'=>114,':nez-nayu:'=>115,':ni_zia:'=>116,':ny_tik:'=>117,':o'=>118,':obdol_bysh:'=>119,':ohot_nik:'=>120,':ole_ole:'=>121,':omg:'=>122,':oo:'=>123,':oops:'=>124,':ot_riad:'=>125,':p_a-r_t_y:'=>126,':pa_la_ch:'=>127,':pi_ra_t:'=>128,':pi_rat:'=>129,':pioner:'=>130,':pisa_tel:'=>131,':po_zor:'=>132,':poz_drav_liayu:'=>133,':pri_vet:-:'=>134,':pro_spal:'=>135,':pro_tiv:'=>136,':ps_ih:'=>137,':qvok:'=>138,':ras_pal_cov_ka:'=>139,':razz:'=>140,':ribak2:'=>141,':ribak:'=>142,':ro_za:'=>143,':roll:'=>144,':ry_car:'=>145,':s_o_s:'=>146,':sad:'=>147,':se_lya_ne:'=>148,':sh_ok:'=>149,':sh_ut:'=>150,':shock:'=>151,':sk_ri_pa_ch:'=>152,':smile:'=>153,':smile_10:'=>154,':smile_11:'=>155,':smile_12:'=>156,':smile_13:'=>157,':smile_14:'=>158,':smile_15:'=>159,':smile_16:'=>160,':smile_17:'=>161,':smile_18:'=>162,':smile_19:'=>163,':smile_1:'=>164,':smile_20:'=>165,':smile_21:'=>166,':smile_22:'=>167,':smile_23:'=>168,':smile_24:'=>169,':smile_25:'=>170,':smile_26:'=>171,':smile_27:'=>172,':smile_28:'=>173,':smile_29:'=>174,':smile_2:'=>175,':smile_30:'=>176,':smile_31:'=>177,':smile_32:'=>178,':smile_33:'=>179,':smile_34:'=>180,':smile_35:'=>181,':smile_36:'=>182,':smile_37:'=>183,':smile_38:'=>184,':smile_39:'=>185,':smile_3:'=>186,':smile_40:'=>187,':smile_41:'=>188,':smile_42:'=>189,':smile_43:'=>190,':smile_44:'=>191,':smile_45:'=>192,':smile_46:'=>193,':smile_47:'=>194,':smile_49:'=>195,':smile_4:'=>196,':smile_50:'=>197,':smile_51:'=>198,':smile_52:'=>199,':smile_53:'=>200,':smile_54:'=>201,':smile_55:'=>202,':smile_56:'=>203,':smile_57:'=>204,':smile_58:'=>205,':smile_59:'=>206,':smile_5:'=>207,':smile_60:'=>208,':smile_61:'=>209,':smile_62:'=>210,':smile_63:'=>211,':smile_64:'=>212,':smile_65:'=>213,':smile_66:'=>214,':smile_6:'=>215,':smile_7:'=>216,':smile_8:'=>217,':smile_9:'=>218,':smu:sche_nie:'=>219,':son-ce:'=>220,':spi_der:'=>221,':spin2:'=>222,':spin:'=>223,':st_op:'=>224,':st_ruskiy:'=>225,':ta-ne-c:'=>226,':ta_n_cor:'=>227,':te_le_fon:'=>228,':te_ma-clo_se:'=>229,':tema-close:'=>230,':ti_pa:'=>231,':ts_ss:'=>232,':twisted:'=>233,':uch_tiv:'=>234,':ugeek:'=>235,':ups:'=>236,':v_i_k_i_n_g:'=>237,':ved_ma:'=>238,':windows_must_die:'=>239,':wink:'=>240,':wo)(ll:'=>241,':wo_ol:'=>242,':wo_rk:'=>243,':x'=>244,':ya-za:'=>245,':ya_hoo_oo:'=>246,':za_da_va_la:'=>247,':za_gar:'=>248,':ze_le_ny:'=>249,':ze_va_et:'=>250,':zvez_ochki:'=>251,':|'=>252,';)'=>253,';-)'=>254,';;-)))'=>255,';tor_moz:'=>256,';wont_a_ban:'=>257,'xni:'=>258);
	public function __sleep()
	{
		$props = get_object_vars($this);
		unset($props['out'], $props['proc'], $props['source']);
		return array_keys($props);
	}
	public function renderRichText($xml)
	{
		if (!isset($this->quickRenderingTest) || !preg_match($this->quickRenderingTest, $xml))
			try
			{
				return $this->renderQuick($xml);
			}
			catch (\Exception $e)
			{
			}
		$dom = $this->loadXML($xml);
		$this->out = '';
		$this->at($dom->documentElement);
		return $this->out;
	}
	protected function at(\DOMNode $root)
	{
		if ($root->nodeType === 3)
			$this->out .= htmlspecialchars($root->textContent,0);
		else
			foreach ($root->childNodes as $node)
				if (!isset(self::$tagBranches[$node->nodeName]))
					$this->at($node);
				else
				{
					$tb = self::$tagBranches[$node->nodeName];
					if($tb<14)if($tb<7){if($tb<4)if($tb===0)$this->out.='<div class="inline-attachment"><!-- ia'.htmlspecialchars($node->getAttribute('index'),0).' -->'.htmlspecialchars($node->getAttribute('filename'),0).'<!-- ia'.htmlspecialchars($node->getAttribute('index'),0).' --></div>';elseif($tb===1){$this->out.='<span style="font-weight: bold">';$this->at($node);$this->out.='</span>';}elseif($tb===2){$this->out.='<div style="text-align:center;">';$this->at($node);$this->out.='</div>';}else{$this->out.='<div class="codebox"><p>'.htmlspecialchars($this->params['L_CODE'].$this->params['L_COLON'],0).' <a href="#" onclick="selectCode(this); return false;">'.htmlspecialchars($this->params['L_SELECT_ALL_CODE'],0).'</a></p><pre><code>';$this->at($node);$this->out.='</code></pre></div>';}elseif($tb===4){$this->out.='<span style="color: '.htmlspecialchars($node->getAttribute('color'),2).'">';$this->at($node);$this->out.='</span>';}elseif($tb===5)if(empty($this->params['S_VIEWSMILIES']))$this->out.=htmlspecialchars($node->textContent,0);elseif(isset(self::$btA12D095E[$node->textContent])){$n=self::$btA12D095E[$node->textContent];$this->out.='<img class="smilies" src="'.htmlspecialchars($this->params['T_SMILIES_PATH'],2);if($n<130)if($n<65)if($n<33)if($n<17)if($n<9)if($n<5)if($n<3)if($n===0)$this->out.='/icon_cool.gif" width="15" height="17" alt="8-)" title="Cool">';elseif($n===1)$this->out.='/icon_exclaim.gif" width="15" height="17" alt=":!:" title="Exclamation">';else$this->out.='/icon_e_sad.gif" width="15" height="17" alt=":(" title="Sad">';elseif($n===3)$this->out.='/icon_e_smile.gif" width="15" height="17" alt=":)" title="Smile">';else$this->out.='/tease.gif" width="41" height="40" alt=":)-(:" title="Дразнится">';elseif($n===5)$this->out.='/ac.gif" width="20" height="24" alt=":-(" title="Грусть">';elseif($n===6)$this->out.='/ag.gif" width="20" height="20" alt=":-)" title="Смех">';elseif($n===7)$this->out.='/ab.gif" width="20" height="24" alt=":-):" title="Улыбка">';else$this->out.='/cool.gif" width="29" height="20" alt=":-:ok:-:" title="OK!">';elseif($n<13)if($n===9)$this->out.='/icon_e_confused.gif" width="15" height="17" alt=":-?" title="Confused">';elseif($n===10)$this->out.='/icon_e_biggrin.gif" width="15" height="17" alt=":-D" title="Very Happy">';elseif($n===11)$this->out.='/icon_razz.gif" width="15" height="17" alt=":-P" title="Razz">';else$this->out.='/icon_e_surprised.gif" width="15" height="17" alt=":-o" title="Surprised">';elseif($n===13)$this->out.='/bf.gif" width="40" height="26" alt=":-ok-:" title="OK">';elseif($n===14)$this->out.='/icon_mad.gif" width="15" height="17" alt=":-x" title="Mad">';elseif($n===15)$this->out.='/icon_neutral.gif" width="15" height="17" alt=":-|" title="Neutral">';else$this->out.='/bq.gif" width="43" height="27" alt=":-|-:" title=":-|-:">';elseif($n<25)if($n<21)if($n===17)$this->out.='/ae.gif" width="18" height="18" alt="::yaz-yk:" title="Язык дразнила">';elseif($n===18)$this->out.='/1.gif" width="15" height="15" alt=":;(:" title="((">';elseif($n===19)$this->out.='/9.gif" width="15" height="15" alt=":;;D:" title=";;D">';else$this->out.='/4.gif" width="15" height="15" alt=":;D:" title=";D">';elseif($n===21)$this->out.='/bg.gif" width="28" height="25" alt=":;ne_gr:" title="Негр">';elseif($n===22)$this->out.='/icon_e_confused.gif" width="15" height="17" alt=":?" title="Confused">';elseif($n===23)$this->out.='/icon_question.gif" width="15" height="17" alt=":?:" title="Question">';else$this->out.='/icon_e_confused.gif" width="15" height="17" alt=":???:" title="Confused">';elseif($n<29)if($n===25)$this->out.='/icon_e_biggrin.gif" width="15" height="17" alt=":D" title="Very Happy">';elseif($n===26)$this->out.='/5.gif" width="15" height="15" alt=":O_O:" title="O_O">';elseif($n===27)$this->out.='/icon_razz.gif" width="15" height="17" alt=":P" title="Razz">';else$this->out.='/bs.gif" width="20" height="24" alt=":a_g_a:" title="Ага">';elseif($n===29)$this->out.='/KidRock_07.gif" width="58" height="41" alt=":ad_min_v_duhe:" title="Admin v duhe">';elseif($n===30)$this->out.='/aikido.gif" width="50" height="30" alt=":aiki-do:" title="Айкидо">';elseif($n===31)$this->out.='/russian.gif" width="40" height="40" alt=":al_kana_ft:" title="Алкаш">';else$this->out.='/JC_cupidboy.gif" width="46" height="54" alt=":an)(gel:" title="Angel">';elseif($n<49)if($n<41)if($n<37)if($n===33)$this->out.='/angel.gif" width="27" height="26" alt=":an_gel:" title="Ангел">';elseif($n===34)$this->out.='/scenic.gif" width="49" height="27" alt=":ar_ti_st:" title="Артист">';elseif($n===35)$this->out.='/icon_arrow.gif" width="15" height="17" alt=":arrow:" title="Arrow">';else$this->out.='/kiss.gif" width="30" height="21" alt=":ba_bo_ch_ka:" title="Девочка">';elseif($n===37)$this->out.='/neo.gif" width="33" height="24" alt=":bet_ment:" title="Бетмен">';elseif($n===38)$this->out.='/orc.gif" width="69" height="37" alt=":bo_ga_tyr:" title="Богатырь">';elseif($n===39)$this->out.='/bb.gif" width="28" height="24" alt=":bomb:" title="Бомба">';else$this->out.='/bi.gif" width="40" height="27" alt=":bra_vo:" title="Браво!">';elseif($n<45)if($n===41)$this->out.='/Mauridia_21.gif" width="50" height="30" alt=":chir_lider:" title="Chir Lider">';elseif($n===42)$this->out.='/ay.gif" width="26" height="23" alt=":co_ol:" title="Круто">';elseif($n===43)$this->out.='/2.gif" width="25" height="20" alt=":cool2:" title="cool2">';else$this->out.='/8.gif" width="16" height="16" alt=":cool3:" title="cool3">';elseif($n===45)$this->out.='/icon_cool.gif" width="15" height="17" alt=":cool:" title="Cool">';elseif($n===46)$this->out.='/cool2.gif" width="38" height="20" alt=":cool_cool:" title="Круто!!!">';elseif($n===47)$this->out.='/icon_cry.gif" width="15" height="17" alt=":cry:" title="Crying or Very Sad">';else$this->out.='/ak.gif" width="31" height="22" alt=":cry_ing:" title="Плачет">';elseif($n<57)if($n<53)if($n===49)$this->out.='/dw.gif" width="43" height="40" alt=":cve_ty:" title="Цветы">';elseif($n===50)$this->out.='/bo.gif" width="39" height="26" alt=":dan_ser:" title="Танцор">';elseif($n===51)$this->out.='/dance4.gif" width="39" height="26" alt=":danser_dans:" title="Танцор!!!">';else$this->out.='/aq.gif" width="39" height="34" alt=":de_vil:" title="Чертик">';elseif($n===53)$this->out.='/fc.gif" width="57" height="29" alt=":ded_moroz:" title="Дед Мороз">';elseif($n===54)$this->out.='/brunette.gif" width="35" height="31" alt=":dev_ka:" title="Девка">';elseif($n===55)$this->out.='/az.gif" width="51" height="28" alt=":dr_ink:" title="Выпьпивка">';else$this->out.='/am.gif" width="36" height="27" alt=":dra_chun:" title="Драка">';elseif($n<61)if($n===57)$this->out.='/girl_wacko.gif" width="36" height="24" alt=":du-ra:" title="%-%">';elseif($n===58)$this->out.='/duel.gif" width="100" height="34" alt=":du_el:" title="Дуэль!">';elseif($n===59)$this->out.='/bw.gif" width="27" height="24" alt=":du_ma_et:" title="Думает">';else$this->out.='/eat2.gif" width="31" height="26" alt=":e-d-a:" title="Еда!">';elseif($n===61)$this->out.='/icon_e_surprised.gif" width="15" height="17" alt=":eek:" title="Surprised">';elseif($n===62)$this->out.='/icon_evil.gif" width="15" height="17" alt=":evil:" title="Evil or Very Mad">';elseif($n===63)$this->out.='/likeff_man.gif" width="50" height="30" alt=":ex_po_bo_ku:" title="Ex-">';else$this->out.='/likeopera_man.gif" width="52" height="30" alt=":exp_minus:" title="Ope+">';elseif($n<98)if($n<82)if($n<74)if($n<70)if($n<68)if($n===65)$this->out.='/KidRock_03.gif" width="57" height="41" alt=":f-l-u-d:" title="Флуд!">';elseif($n===66)$this->out.='/JC_parents-girl.gif" width="66" height="30" alt=":fe_me_ly:" title="Семья">';else$this->out.='/feminist.gif" width="54" height="49" alt=":fe_mi_ni_zm;" title="Феминизм">';elseif($n===68)$this->out.='/d_canon.gif" width="46" height="39" alt=":fo_tik:" title="Фотик">';else$this->out.='/football.gif" width="20" height="47" alt=":foo_t_bol:" title="Футбол">';elseif($n===70)$this->out.='/10.gif" width="37" height="21" alt=":fuck:" title="fuck">';elseif($n===71)$this->out.='/read.gif" width="27" height="27" alt=":ga-ze-ta;" title="Газета">';elseif($n===72)$this->out.='/fx.gif" width="50" height="45" alt=":gar_mo:nist:" title="Гармонист">';else$this->out.='/icon_e_geek.gif" width="17" height="17" alt=":geek:" title="Geek">';elseif($n<78)if($n===74)$this->out.='/he.gif" width="42" height="29" alt=":gim-nast:" title="Гимнаст">';elseif($n===75)$this->out.='/aw.gif" width="47" height="24" alt=":gir_l-fri_end:" title="Подруга">';elseif($n===76)$this->out.='/13.gif" width="25" height="18" alt=":good:" title="good">';else$this->out.='/heat.gif" width="33" height="29" alt=":goria_cho:" title="Горячо!!!">';elseif($n===78)$this->out.='/icon_e_biggrin.gif" width="15" height="17" alt=":grin:" title="Very Happy">';elseif($n===79)$this->out.='/ba.gif" width="20" height="20" alt=":hea_rt:" title="Сердце">';elseif($n===80)$this->out.='/ap.gif" width="25" height="25" alt=":hi_hi_hi:" title="хи-хи-хи">';else$this->out.='/nhl.gif" width="46" height="38" alt=":ho-key:" title="Ххокеист">';elseif($n<90)if($n<86)if($n===82)$this->out.='/connieslingshotxt0.gif" width="63" height="22" alt=":hu_li:gan:" title="Хулиган">';elseif($n===83)$this->out.='/ho.gif" width="41" height="28" alt=":hudo_zhnik:" title="Художник">';elseif($n===84)$this->out.='/icon_idea.gif" width="15" height="17" alt=":idea:" title="Idea">';else$this->out.='/Laie_73.gif" width="45" height="35" alt=":ig_ro_ki:" title="Igroki">';elseif($n===86)$this->out.='/to_become_senile.gif" width="38" height="24" alt=":igru_shka:" title="Игрушка">';elseif($n===87)$this->out.='/girl_cray2.gif" width="38" height="24" alt=":is_te_ri_ka:" title="Истерика!">';elseif($n===88)$this->out.='/smoke.gif" width="35" height="30" alt=":jn_pu_sk:" title="Otpusk">';else$this->out.='/king2.gif" width="38" height="28" alt=":k_i_n_g:" title="King">';elseif($n<94)if($n===90)$this->out.='/Laie_34.gif" width="60" height="35" alt=":kav_boy:" title="Ковбой">';elseif($n===91)$this->out.='/as.gif" width="23" height="26" alt=":ki-)(-:" title="Поцелуй!">';elseif($n===92)$this->out.='/king.gif" width="28" height="28" alt=":ki_ng:" title="King!">';else$this->out.='/aj.gif" width="34" height="23" alt=":ki_ss:" title="Пцелуй">';elseif($n===94)$this->out.='/be.gif" width="20" height="24" alt=":kli_ny:" title="Клины!!!">';elseif($n===95)$this->out.='/Laie_11.gif" width="66" height="34" alt=":ko_pi_lka:" title="Копилка">';elseif($n===96)$this->out.='/friends.gif" width="52" height="28" alt=":ko_re:sha:" title="Друзья">';else$this->out.='/st.gif" width="31" height="26" alt=":ku_bok:" title="Кубок">';elseif($n<114)if($n<106)if($n<102)if($n===98)$this->out.='/first_move.gif" width="55" height="24" alt=":lo)(ve:" title="Love!">';elseif($n===99)$this->out.='/give_heart.gif" width="28" height="25" alt=":lo_ve:" title="Любовь!">';elseif($n===100)$this->out.='/icon_lol.gif" width="15" height="17" alt=":lol:" title="Laughing">';else$this->out.='/icon_mad.gif" width="15" height="17" alt=":mad:" title="Mad">';elseif($n===102)$this->out.='/girl_hospital.gif" width="42" height="25" alt=":med_ses_tra:" title="Медсестра">';elseif($n===103)$this->out.='/af.gif" width="21" height="21" alt=":men:" title="Крутой">';elseif($n===104)$this->out.='/ad.gif" width="20" height="20" alt=":mi_ga_et:" title="Мигает">';else$this->out.='/d_ice.gif" width="31" height="37" alt=":mo-ro_zi_vo:" title="Мороженное!">';elseif($n<110)if($n===106)$this->out.='/icon_mrgreen.gif" width="15" height="17" alt=":mrgreen:" title="Mr. Green">';elseif($n===107)$this->out.='/ar.gif" width="28" height="25" alt=":mu_zyk:" title="Музыка">';elseif($n===108)$this->out.='/girl_witch.gif" width="46" height="31" alt=":na_met_le:" title="На метле">';else$this->out.='/16.gif" width="64" height="33" alt=":nalodke2:" title="nalodke2">';elseif($n===110)$this->out.='/14.gif" width="62" height="23" alt=":nalodke:" title="nalodke">';elseif($n===111)$this->out.='/fie.gif" width="20" height="20" alt=":ne_ne_ne:" title="нет, нет, нет">';elseif($n===112)$this->out.='/KidRock_05.gif" width="51" height="43" alt=":ne_ot_ho_di:" title="Не отходи от темы!">';else$this->out.='/bn.gif" width="32" height="20" alt=":ne_vi_del:" title="Не видал?">';elseif($n<122)if($n<118)if($n===114)$this->out.='/nono.gif" width="25" height="25" alt=":nel-zya:" title="Нельзя!!!">';elseif($n===115)$this->out.='/bk.gif" width="36" height="26" alt=":nez-nayu:" title="Не знаю">';elseif($n===116)$this->out.='/bt.gif" width="27" height="24" alt=":ni_zia:" title="Нельзя!">';else$this->out.='/bh.gif" width="24" height="22" alt=":ny_tik:" title="Нытик">';elseif($n===118)$this->out.='/icon_e_surprised.gif" width="15" height="17" alt=":o" title="Surprised">';elseif($n===119)$this->out.='/hang2.gif" width="27" height="35" alt=":obdol_bysh:" title="Наркот">';elseif($n===120)$this->out.='/hunter.gif" width="48" height="38" alt=":ohot_nik:" title="Охотник">';else$this->out.='/fans.gif" width="72" height="35" alt=":ole_ole:" title="Оле-оле-оле">';elseif($n<126)if($n===122)$this->out.='/11.gif" width="23" height="15" alt=":omg:" title="omg">';elseif($n===123)$this->out.='/12.gif" width="15" height="15" alt=":oo:" title="oo">';elseif($n===124)$this->out.='/icon_redface.gif" width="15" height="17" alt=":oops:" title="Embarrassed">';else$this->out.='/pioneerrr.gif" width="86" height="36" alt=":ot_riad:" title="Отряд">';elseif($n===126)$this->out.='/party.gif" width="90" height="26" alt=":p_a-r_t_y:" title="Party">';elseif($n===127)$this->out.='/butcher.gif" width="44" height="27" alt=":pa_la_ch:" title="Palach">';elseif($n===128)$this->out.='/drag_06.gif" width="60" height="32" alt=":pi_ra_t:" title="Pirat">';else$this->out.='/pir.gif" width="42" height="42" alt=":pi_rat:" title="Пират">';elseif($n<195)if($n<163)if($n<147)if($n<139)if($n<135)if($n<133)if($n===130)$this->out.='/pioneer.gif" width="29" height="33" alt=":pioner:" title="Пионер">';elseif($n===131)$this->out.='/bv.gif" width="36" height="26" alt=":pisa_tel:" title="Писатель!">';else$this->out.='/poz.gif" width="48" height="46" alt=":po_zor:" title="Позор">';elseif($n===133)$this->out.='/shar.gif" width="47" height="43" alt=":poz_drav_liayu:" title="Поздравляю">';else$this->out.='/br.gif" width="29" height="24" alt=":pri_vet:-:" title="Привет!!!">';elseif($n===135)$this->out.='/ha.gif" width="50" height="27" alt=":pro_spal:" title="Проспал">';elseif($n===136)$this->out.='/ew.gif" width="48" height="46" alt=":pro_tiv:" title="Я против">';elseif($n===137)$this->out.='/bm.gif" width="20" height="27" alt=":ps_ih:" title="Псих">';else$this->out.='/7.gif" width="51" height="38" alt=":qvok:" title="qvok">';elseif($n<143)if($n===139)$this->out.='/bd.gif" width="35" height="26" alt=":ras_pal_cov_ka:" title="Распальцовка">';elseif($n===140)$this->out.='/icon_razz.gif" width="15" height="17" alt=":razz:" title="Razz">';elseif($n===141)$this->out.='/18.gif" width="80" height="24" alt=":ribak2:" title="ribak2">';else$this->out.='/3.gif" width="50" height="18" alt=":ribak:" title="ribak">';elseif($n===143)$this->out.='/ax.gif" width="30" height="26" alt=":ro_za:" title="Роза">';elseif($n===144)$this->out.='/icon_rolleyes.gif" width="15" height="17" alt=":roll:" title="Rolling Eyes">';elseif($n===145)$this->out.='/paladin.gif" width="50" height="46" alt=":ry_car:" title="Рыцарь">';else$this->out.='/bc.gif" width="30" height="33" alt=":s_o_s:" title="SOS">';elseif($n<155)if($n<151)if($n===147)$this->out.='/icon_e_sad.gif" width="15" height="17" alt=":sad:" title="Sad">';elseif($n===148)$this->out.='/boyan.gif" width="52" height="29" alt=":se_lya_ne:" title="Селяне">';elseif($n===149)$this->out.='/ai.gif" width="20" height="20" alt=":sh_ok:" title="Шокирован">';else$this->out.='/jester.gif" width="43" height="30" alt=":sh_ut:" title="Шут">';elseif($n===151)$this->out.='/icon_eek.gif" width="15" height="17" alt=":shock:" title="Shocked">';elseif($n===152)$this->out.='/fu.gif" width="55" height="35" alt=":sk_ri_pa_ch:" title="Скрипач">';elseif($n===153)$this->out.='/icon_e_smile.gif" width="15" height="17" alt=":smile:" title="Smile">';else$this->out.='/s_2.gif" width="60" height="30" alt=":smile_10:" title="emotion_10">';elseif($n<159)if($n===155)$this->out.='/s_201.gif" width="15" height="15" alt=":smile_11:" title="emotion_11">';elseif($n===156)$this->out.='/s_213.gif" width="40" height="15" alt=":smile_12:" title="emotion_12">';elseif($n===157)$this->out.='/s_248.gif" width="20" height="18" alt=":smile_13:" title="emotion_13">';else$this->out.='/s_316.gif" width="24" height="21" alt=":smile_14:" title="emotion_14">';elseif($n===159)$this->out.='/s_37.gif" width="111" height="68" alt=":smile_15:" title="emotion_15">';elseif($n===160)$this->out.='/s_4.gif" width="64" height="52" alt=":smile_16:" title="emotion_16">';elseif($n===161)$this->out.='/s_63.gif" width="50" height="36" alt=":smile_17:" title="emotion_17">';else$this->out.='/s_76.gif" width="116" height="47" alt=":smile_18:" title="emotion_18">';elseif($n<179)if($n<171)if($n<167)if($n===163)$this->out.='/s_9.gif" width="100" height="34" alt=":smile_19:" title="emotion_19">';elseif($n===164)$this->out.='/s_001023.gif" width="39" height="18" alt=":smile_1:" title="emotion_1">';elseif($n===165)$this->out.='/s_Dancing-Chilli.gif" width="33" height="35" alt=":smile_20:" title="emotion_20">';else$this->out.='/s_JC_doubledown.gif" width="36" height="34" alt=":smile_21:" title="emotion_21">';elseif($n===167)$this->out.='/s_JC_doubleup.gif" width="36" height="26" alt=":smile_22:" title="emotion_22">';elseif($n===168)$this->out.='/s_JC_goodpost.gif" width="56" height="60" alt=":smile_23:" title="emotion_23">';elseif($n===169)$this->out.='/s_Sorry.gif" width="45" height="20" alt=":smile_24:" title="emotion_24">';else$this->out.='/s_admintutja.gif" width="43" height="50" alt=":smile_25:" title="emotion_25">';elseif($n<175)if($n===171)$this->out.='/s_alc.gif" width="57" height="28" alt=":smile_26:" title="emotion_26">';elseif($n===172)$this->out.='/s_appl.gif" width="35" height="31" alt=":smile_27:" title="emotion_27">';elseif($n===173)$this->out.='/s_blush200.gif" width="18" height="19" alt=":smile_28:" title="emotion_28">';else$this->out.='/s_bot.gif" width="57" height="21" alt=":smile_29:" title="emotion_29">';elseif($n===175)$this->out.='/s_08.gif" width="87" height="24" alt=":smile_2:" title="emotion_2">';elseif($n===176)$this->out.='/s_cheerleader2.gif" width="60" height="44" alt=":smile_30:" title="emotion_30">';elseif($n===177)$this->out.='/s_clap.gif" width="28" height="30" alt=":smile_31:" title="emotion_31">';else$this->out.='/s_cry.gif" width="30" height="24" alt=":smile_32:" title="emotion_32">';elseif($n<187)if($n<183)if($n===179)$this->out.='/s_dont.gif" width="44" height="46" alt=":smile_33:" title="emotion_33">';elseif($n===180)$this->out.='/s_drv.gif" width="55" height="44" alt=":smile_34:" title="emotion_34">';elseif($n===181)$this->out.='/s_fire.gif" width="35" height="25" alt=":smile_35:" title="emotion_35">';else$this->out.='/s_gun.gif" width="45" height="30" alt=":smile_36:" title="emotion_36">';elseif($n===183)$this->out.='/s_hook2.gif" width="31" height="43" alt=":smile_37:" title="emotion_37">';elseif($n===184)$this->out.='/s_kar.gif" width="40" height="28" alt=":smile_38:" title="emotion_38">';elseif($n===185)$this->out.='/s_kur_uch24.gif" width="20" height="15" alt=":smile_39:" title="emotion_39">';else$this->out.='/s_1.gif" width="42" height="45" alt=":smile_3:" title="emotion_3">';elseif($n<191)if($n===187)$this->out.='/s_ladysman.gif" width="55" height="19" alt=":smile_40:" title="emotion_40">';elseif($n===188)$this->out.='/s_leb.gif" width="74" height="22" alt=":smile_41:" title="emotion_41">';elseif($n===189)$this->out.='/s_mad3.gif" width="19" height="28" alt=":smile_42:" title="emotion_42">';else$this->out.='/s_mat.gif" width="44" height="40" alt=":smile_43:" title="emotion_43">';elseif($n===191)$this->out.='/s_noflood.gif" width="43" height="50" alt=":smile_44:" title="emotion_44">';elseif($n===192)$this->out.='/s_nono.gif" width="25" height="25" alt=":smile_45:" title="emotion_45">';elseif($n===193)$this->out.='/s_old.gif" width="32" height="28" alt=":smile_46:" title="emotion_46">';else$this->out.='/s_popc1.gif" width="35" height="35" alt=":smile_47:" title="emotion_47">';elseif($n<227)if($n<211)if($n<203)if($n<199)if($n===195)$this->out.='/s_pya.gif" width="43" height="23" alt=":smile_49:" title="emotion_49">';elseif($n===196)$this->out.='/s_101.gif" width="15" height="26" alt=":smile_4:" title="emotion_4">';elseif($n===197)$this->out.='/s_roflmao.gif" width="50" height="25" alt=":smile_50:" title="emotion_50">';else$this->out.='/s_scared.gif" width="18" height="30" alt=":smile_51:" title="emotion_51">';elseif($n===199)$this->out.='/s_smile.gif" width="37" height="18" alt=":smile_52:" title="emotion_52">';elseif($n===200)$this->out.='/s_splat.gif" width="47" height="39" alt=":smile_53:" title="emotion_53">';elseif($n===201)$this->out.='/s_thk.gif" width="30" height="32" alt=":smile_54:" title="emotion_54">';else$this->out.='/s_thumbsup.gif" width="25" height="18" alt=":smile_55:" title="emotion_55">';elseif($n<207)if($n===203)$this->out.='/s_thumbup.gif" width="38" height="20" alt=":smile_56:" title="emotion_56">';elseif($n===204)$this->out.='/s_tit.gif" width="49" height="43" alt=":smile_57:" title="emotion_57">';elseif($n===205)$this->out.='/s_tooth.gif" width="33" height="21" alt=":smile_58:" title="emotion_58">';else$this->out.='/s_ura1.gif" width="31" height="36" alt=":smile_59:" title="emotion_59">';elseif($n===207)$this->out.='/s_123.gif" width="2" height="7" alt=":smile_5:" title="emotion_5">';elseif($n===208)$this->out.='/s_viannen_102.gif" width="20" height="28" alt=":smile_60:" title="emotion_60">';elseif($n===209)$this->out.='/s_vis.gif" width="24" height="36" alt=":smile_61:" title="emotion_61">';else$this->out.='/s_wavey.gif" width="25" height="29" alt=":smile_62:" title="emotion_62">';elseif($n<219)if($n<215)if($n===211)$this->out.='/s_wink.gif" width="15" height="15" alt=":smile_63:" title="emotion_63">';elseif($n===212)$this->out.='/s_wow.gif" width="32" height="17" alt=":smile_64:" title="emotion_64">';elseif($n===213)$this->out.='/s_wub1.gif" width="22" height="29" alt=":smile_65:" title="emotion_65">';else$this->out.='/s_yaya.gif" width="20" height="29" alt=":smile_66:" title="emotion_66">';elseif($n===215)$this->out.='/s_129.gif" width="15" height="15" alt=":smile_6:" title="emotion_6">';elseif($n===216)$this->out.='/s_14.gif" width="42" height="45" alt=":smile_7:" title="emotion_7">';elseif($n===217)$this->out.='/s_148.gif" width="28" height="28" alt=":smile_8:" title="emotion_8">';else$this->out.='/s_150.gif" width="15" height="15" alt=":smile_9:" title="emotion_9">';elseif($n<223)if($n===219)$this->out.='/ah.gif" width="25" height="25" alt=":smu:sche_nie:" title="Смущение">';elseif($n===220)$this->out.='/hy.gif" width="42" height="43" alt=":son-ce:" title="Солнце">';elseif($n===221)$this->out.='/ext_spid.gif" width="51" height="25" alt=":spi_der:" title="Паук">';else$this->out.='/17.gif" width="30" height="25" alt=":spin2:" title="spin2">';elseif($n===223)$this->out.='/15.gif" width="56" height="50" alt=":spin:" title="spin">';elseif($n===224)$this->out.='/av.gif" width="36" height="23" alt=":st_op:" title="Стоп!">';elseif($n===225)$this->out.='/russian_ru.gif" width="31" height="30" alt=":st_ruskiy:" title="Старый Русский">';else$this->out.='/dance.gif" width="31" height="24" alt=":ta-ne-c:" title="Танцуй!">';elseif($n<243)if($n<235)if($n<231)if($n===227)$this->out.='/dance3.gif" width="42" height="25" alt=":ta_n_cor:" title="Танец">';elseif($n===228)$this->out.='/telephone.gif" width="44" height="26" alt=":te_le_fon:" title="Телефон">';elseif($n===229)$this->out.='/KidRock_06.gif" width="47" height="41" alt=":te_ma-clo_se:" title="Тема закрыта">';else$this->out.='/close_tema.gif" width="48" height="40" alt=":tema-close:" title="Тема закрыта">';elseif($n===231)$this->out.='/pleasantry.gif" width="36" height="26" alt=":ti_pa:" title="Типо...">';elseif($n===232)$this->out.='/al.gif" width="22" height="26" alt=":ts_ss:" title="Шопот">';elseif($n===233)$this->out.='/icon_twisted.gif" width="15" height="17" alt=":twisted:" title="Twisted Evil">';else$this->out.='/hi.gif" width="42" height="28" alt=":uch_tiv:" title="Учтиво!">';elseif($n<239)if($n===235)$this->out.='/icon_e_ugeek.gif" width="17" height="18" alt=":ugeek:" title="Uber Geek">';elseif($n===236)$this->out.='/oops.gif" width="48" height="49" alt=":ups:" title="Упс!">';elseif($n===237)$this->out.='/dwarf.gif" width="46" height="48" alt=":v_i_k_i_n_g:" title="Viking">';else$this->out.='/girl_werewolf.gif" width="46" height="29" alt=":ved_ma:" title="Ведьма">';elseif($n===239)$this->out.='/snoozer_likelinux_man.gif" width="50" height="30" alt=":windows_must_die:" title="WMD">';elseif($n===240)$this->out.='/icon_e_wink.gif" width="15" height="17" alt=":wink:" title="Wink">';elseif($n===241)$this->out.='/dash3.gif" width="51" height="26" alt=":wo)(ll:" title="Woll">';else$this->out.='/bu.gif" width="51" height="26" alt=":wo_ol:" title="Стена">';elseif($n<251)if($n<247)if($n===243)$this->out.='/moil.gif" width="41" height="37" alt=":wo_rk:" title="Работа">';elseif($n===244)$this->out.='/icon_mad.gif" width="15" height="17" alt=":x" title="Mad">';elseif($n===245)$this->out.='/ex.gif" width="48" height="46" alt=":ya-za:" title="Я за">';else$this->out.='/bp.gif" width="42" height="27" alt=":ya_hoo_oo:" title="Восторг">';elseif($n===247)$this->out.='/ao.gif" width="28" height="28" alt=":za_da_va_la:" title="Задавала">';elseif($n===248)$this->out.='/beach.gif" width="34" height="33" alt=":za_gar:" title="Загарает">';elseif($n===249)$this->out.='/at.gif" width="21" height="21" alt=":ze_le_ny:" title="Зеленый">';else$this->out.='/au.gif" width="26" height="22" alt=":ze_va_et:" title="Зевает">';elseif($n<255)if($n===251)$this->out.='/ck.gif" width="35" height="29" alt=":zvez_ochki:" title="Звезданули!">';elseif($n===252)$this->out.='/icon_neutral.gif" width="15" height="17" alt=":|" title="Neutral">';elseif($n===253)$this->out.='/icon_e_wink.gif" width="15" height="17" alt=";)" title="Wink">';else$this->out.='/icon_e_wink.gif" width="15" height="17" alt=";-)" title="Wink">';elseif($n===255)$this->out.='/bj.gif" width="29" height="25" alt=";;-)))" title="ХА-ХА-ХА">';elseif($n===256)$this->out.='/slow.gif" width="38" height="26" alt=";tor_moz:" title="Тормоз">';elseif($n===257)$this->out.='/KidRock_01.gif" width="40" height="42" alt=";wont_a_ban:" title="Хочешь бан?">';else$this->out.='/6.gif" width="15" height="15" alt="xni:" title="xni">';}else$this->out.=htmlspecialchars($node->textContent,0);else{$this->out.='<a href="mailto:'.htmlspecialchars($node->getAttribute('email'),2);if($node->hasAttribute('subject')||$node->hasAttribute('body')){$this->out.='?';if($node->hasAttribute('subject'))$this->out.='subject='.htmlspecialchars($node->getAttribute('subject'),2);if($node->hasAttribute('body')){if($node->hasAttribute('subject'))$this->out.='&amp;';$this->out.='body='.htmlspecialchars($node->getAttribute('body'),2);}}$this->out.='">';$this->at($node);$this->out.='</a>';}}elseif($tb<11)if($tb===7)if(!empty($this->params['S_VIEWSMILIES']))$this->out.='<img alt="'.htmlspecialchars($node->textContent,2).'" class="emoji smilies" draggable="false" src="//cdn.jsdelivr.net/emojione/assets/svg/'.htmlspecialchars($node->getAttribute('seq'),2).'.svg">';else$this->out.=htmlspecialchars($node->textContent,0);elseif($tb===8)if(!empty($this->params['S_VIEWFLASH']))$this->out.='<object classid="clsid:D27CDB6E-AE6D-11CF-96B8-444553540000" codebase="http://active.macromedia.com/flash2/cabs/swflash.cab#version=5,0,0,0" width="'.htmlspecialchars($node->getAttribute('width'),2).'" height="'.htmlspecialchars($node->getAttribute('height'),2).'"><param name="movie" value="'.htmlspecialchars($node->getAttribute('url'),2).'"><param name="play" value="false"><param name="loop" value="false"><param name="quality" value="high"><param name="allowScriptAccess" value="never"><param name="allowNetworking" value="internal"><embed src="'.htmlspecialchars($node->getAttribute('url'),2).'" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" width="'.htmlspecialchars($node->getAttribute('width'),2).'" height="'.htmlspecialchars($node->getAttribute('height'),2).'" play="false" loop="false" quality="high" allowscriptaccess="never" allownetworking="internal"></object>';else$this->at($node);elseif($tb===9){$this->out.='<span style="font-style: italic">';$this->at($node);$this->out.='</span>';}elseif(!empty($this->params['S_VIEWIMG']))$this->out.='<img src="'.htmlspecialchars($node->getAttribute('src'),2).'" class="postimage" alt="'.htmlspecialchars($this->params['L_IMAGE'],2).'">';else$this->at($node);elseif($tb===11){$this->out.='<div style="float: left; margin:5px;">';$this->at($node);$this->out.='</div>';}elseif($tb===12){$this->out.='<div style="float: right; margin:5px;">';$this->at($node);$this->out.='</div>';}else{$this->out.='<div style="text-align:left;">';$this->at($node);$this->out.='</div>';}elseif($tb<21)if($tb<18)if($tb===14){$this->out.='<li>';$this->at($node);$this->out.='</li>';}elseif($tb===15)$this->out.=htmlspecialchars($node->getAttribute('text'),0);elseif($tb===16)if(!$node->hasAttribute('type')){$this->out.='<ul>';$this->at($node);$this->out.='</ul>';}elseif((strpos('upperlowerdecim',mb_substr($node->getAttribute('type'),0,5,'utf-8'))!==false)){$this->out.='<ol style="list-style-type: '.htmlspecialchars($node->getAttribute('type'),2).'">';$this->at($node);$this->out.='</ol>';}else{$this->out.='<ul style="list-style-type: '.htmlspecialchars($node->getAttribute('type'),2).'">';$this->at($node);$this->out.='</ul>';}else$this->out.='<div class="bbmedia" data-url="'.htmlspecialchars($node->getAttribute('content'),2).'" style="margin: 1px; display: inline-block; vertical-align: bottom;"><div style="width: 200px; height: 40px; border: 1px solid #999; display: table-cell; text-align: center; vertical-align: middle; font: 10px/10px Verdana; color: #555; opacity: 0.5;"><a style="color: #105289; text-decoration: none;" href="http://phpbbex.com/" target="_blank" rel="noreferrer">phpBB</a> [media]</div><script>if (typeof bbmedia == \'undefined\') { bbmedia = true; var e = document.createElement(\'script\'); e.async = true; e.src = \'http://phpbbex.com/api/bbmedia.js\'; var s = document.getElementsByTagName(\'script\')[0]; s.parentNode.insertBefore(e, s); }</script></div>';elseif($tb===18)$this->out.='<a href="./viewtopic.php?p='.htmlspecialchars($node->getAttribute('content'),2).'#p'.htmlspecialchars($node->getAttribute('content'),2).'"><span class="imageset icon_topic_latest" title="'.htmlspecialchars($this->params['L_QR_BBPOST'],2).'">'.htmlspecialchars($this->params['L_QR_BBPOST'],0).'</span></a>';elseif($tb===19){$this->out.='<blockquote';if(!$node->hasAttribute('author'))$this->out.=' class="uncited"';$this->out.='><div>';if($node->hasAttribute('author')){$this->out.='<cite>';if($node->hasAttribute('url'))$this->out.='<a href="'.htmlspecialchars($node->getAttribute('url'),2).'" class="postlink">'.htmlspecialchars($node->getAttribute('author'),0).'</a>';elseif($node->hasAttribute('profile_url'))$this->out.='<a href="'.htmlspecialchars($node->getAttribute('profile_url'),2).'">'.htmlspecialchars($node->getAttribute('author'),0).'</a>';else$this->out.=htmlspecialchars($node->getAttribute('author'),0);$this->out.=' '.htmlspecialchars($this->params['L_WROTE'].$this->params['L_COLON'],0);if($node->hasAttribute('post_url'))$this->out.=' <a href="'.htmlspecialchars($node->getAttribute('post_url'),2).'" data-post-id="'.htmlspecialchars($node->getAttribute('post_id'),2).'" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a>';if($node->hasAttribute('date'))$this->out.='<div class="responsive-hide">'.htmlspecialchars($node->getAttribute('date'),0).'</div>';$this->out.='</cite>';}$this->at($node);$this->out.='</div></blockquote>';}else{$this->out.='<span style="font-weight: bold; color: '.htmlspecialchars($node->getAttribute('ref'),2).';">';$this->at($node);$this->out.='</span>';}elseif($tb<25)if($tb===21){$this->out.='<span style="font-size: '.htmlspecialchars($node->getAttribute('size'),2).'%; line-height: 116%;">';$this->at($node);$this->out.='</span>';}elseif($tb===22){$this->out.='<span style="text-decoration: underline">';$this->at($node);$this->out.='</span>';}elseif($tb===23){$this->out.='<a href="'.htmlspecialchars($node->getAttribute('url'),2).'" class="postlink">';$this->at($node);$this->out.='</a>';}else$this->out.='<a href="'.htmlspecialchars($node->getAttribute('content'),2).'" class="bbvideo" data-bbvideo="560,315">'.htmlspecialchars($node->getAttribute('content'),0).'</a>';elseif($tb===25)$this->out.='<br>';elseif($tb===26);else{$this->out.='<p>';$this->at($node);$this->out.='</p>';}
				}
	}
	private static $static=array('/B'=>'</span>','/CENTER'=>'</div>','/CODE'=>'</code></pre></div>','/COLOR'=>'</span>','/EMAIL'=>'</a>','/I'=>'</span>','/IMG_LEFT'=>'</div>','/IMG_RIGHT'=>'</div>','/LEFT'=>'</div>','/LI'=>'</li>','/QUOTE'=>'</div></blockquote>','/REF'=>'</span>','/SIZE'=>'</span>','/U'=>'</span>','/URL'=>'</a>','B'=>'<span style="font-weight: bold">','CENTER'=>'<div style="text-align:center;">','I'=>'<span style="font-style: italic">','IMG_LEFT'=>'<div style="float: left; margin:5px;">','IMG_RIGHT'=>'<div style="float: right; margin:5px;">','LEFT'=>'<div style="text-align:left;">','LI'=>'<li>','U'=>'<span style="text-decoration: underline">');
	private static $dynamic=array('COLOR'=>array('(^[^ ]+(?> (?!color=)[^=]+="[^"]*")*(?> color="([^"]*)")?.*)s','<span style="color: $1">'),'MEDIA'=>array('(^[^ ]+(?> (?!content=)[^=]+="[^"]*")*(?> content="([^"]*)")?.*)s','<div class="bbmedia" data-url="$1" style="margin: 1px; display: inline-block; vertical-align: bottom;"><div style="width: 200px; height: 40px; border: 1px solid #999; display: table-cell; text-align: center; vertical-align: middle; font: 10px/10px Verdana; color: #555; opacity: 0.5;"><a style="color: #105289; text-decoration: none;" href="http://phpbbex.com/" target="_blank" rel="noreferrer">phpBB</a> [media]</div><script>if (typeof bbmedia == \'undefined\') { bbmedia = true; var e = document.createElement(\'script\'); e.async = true; e.src = \'http://phpbbex.com/api/bbmedia.js\'; var s = document.getElementsByTagName(\'script\')[0]; s.parentNode.insertBefore(e, s); }</script></div>'),'REF'=>array('(^[^ ]+(?> (?!ref=)[^=]+="[^"]*")*(?> ref="([^"]*)")?.*)s','<span style="font-weight: bold; color: $1;">'),'SIZE'=>array('(^[^ ]+(?> (?!size=)[^=]+="[^"]*")*(?> size="([^"]*)")?.*)s','<span style="font-size: $1%; line-height: 116%;">'),'URL'=>array('(^[^ ]+(?> (?!url=)[^=]+="[^"]*")*(?> url="([^"]*)")?.*)s','<a href="$1" class="postlink">'));
	private static $attributes;
	private static $quickBranches=array('/LIST'=>0,'ATTACHMENT'=>1,'CODE'=>2,'E'=>3,'EMAIL'=>4,'EMOJI'=>5,'LINK_TEXT'=>6,'LIST'=>7,'POST'=>8,'QUOTE'=>9,'YOUTUBE'=>10);
	public $quickRenderingTest='(<(?=[FI])(?>FLASH|IMG)[ />])';

	protected function renderQuick($xml)
	{
		$xml = $this->decodeSMP($xml);
		self::$attributes = array();
		$html = preg_replace_callback(
			'(<(?:(?!/)((?:ATTACHMENT|E(?>MOJI)?|LINK_TEXT|MEDIA|POST|YOUTUBE))(?: [^>]*)?>.*?</\\1|(/?(?!br/|p>)[^ />]+)[^>]*?(/)?)>)s',
			array($this, 'quick'),
			preg_replace(
				'(<[eis]>[^<]*</[eis]>)',
				'',
				substr($xml, 1 + strpos($xml, '>'), -4)
			)
		);

		return str_replace('<br/>', '<br>', $html);
	}

	protected function quick($m)
	{
		if (isset($m[2]))
		{
			$id = $m[2];

			if (isset($m[3]))
			{
				unset($m[3]);

				$m[0] = substr($m[0], 0, -2) . '>';
				$html = $this->quick($m);

				$m[0] = '</' . $id . '>';
				$m[2] = '/' . $id;
				$html .= $this->quick($m);

				return $html;
			}
		}
		else
		{
			$id = $m[1];

			$lpos = 1 + strpos($m[0], '>');
			$rpos = strrpos($m[0], '<');
			$textContent = substr($m[0], $lpos, $rpos - $lpos);

			if (strpos($textContent, '<') !== false)
				throw new \RuntimeException;

			$textContent = htmlspecialchars_decode($textContent);
		}

		if (isset(self::$static[$id]))
			return self::$static[$id];

		if (isset(self::$dynamic[$id]))
		{
			list($match, $replace) = self::$dynamic[$id];
			return preg_replace($match, $replace, $m[0], 1);
		}

		if (!isset(self::$quickBranches[$id]))
		{
			if ($id[0] === '!' || $id[0] === '?' || preg_match('(^/?(?>FLASH|IMG)$)', $id))
				throw new \RuntimeException;
			return '';
		}

		$attributes = array();
		if (strpos($m[0], '="') !== false)
		{
			preg_match_all('(([^ =]++)="([^"]*))S', substr($m[0], 0, strpos($m[0], '>')), $matches);
			foreach ($matches[1] as $i => $attrName)
				$attributes[$attrName] = $matches[2][$i];
		}

		$qb = self::$quickBranches[$id];
		if($qb<6)if($qb<3)if($qb===0){$attributes=array_pop(self::$attributes);$html='';if(!isset($attributes['type']))$html.='</ul>';elseif((strpos('upperlowerdecim',mb_substr(htmlspecialchars_decode($attributes['type']),0,5,'utf-8'))!==false))$html.='</ol>';else$html.='</ul>';}elseif($qb===1){$attributes+=array('index'=>null,'filename'=>null);$html='<div class="inline-attachment"><!-- ia'.str_replace('&quot;','"',$attributes['index']).' -->'.str_replace('&quot;','"',$attributes['filename']).'<!-- ia'.str_replace('&quot;','"',$attributes['index']).' --></div>';}else$html='<div class="codebox"><p>'.htmlspecialchars($this->params['L_CODE'].$this->params['L_COLON'],0).' <a href="#" onclick="selectCode(this); return false;">'.htmlspecialchars($this->params['L_SELECT_ALL_CODE'],0).'</a></p><pre><code>';elseif($qb===3){$html='';if(empty($this->params['S_VIEWSMILIES']))$html.=htmlspecialchars($textContent,0);elseif(isset(self::$btA12D095E[$textContent])){$n=self::$btA12D095E[$textContent];$html.='<img class="smilies" src="'.htmlspecialchars($this->params['T_SMILIES_PATH'],2);if($n<130)if($n<65)if($n<33)if($n<17)if($n<9)if($n<5)if($n<3)if($n===0)$html.='/icon_cool.gif" width="15" height="17" alt="8-)" title="Cool">';elseif($n===1)$html.='/icon_exclaim.gif" width="15" height="17" alt=":!:" title="Exclamation">';else$html.='/icon_e_sad.gif" width="15" height="17" alt=":(" title="Sad">';elseif($n===3)$html.='/icon_e_smile.gif" width="15" height="17" alt=":)" title="Smile">';else$html.='/tease.gif" width="41" height="40" alt=":)-(:" title="Дразнится">';elseif($n===5)$html.='/ac.gif" width="20" height="24" alt=":-(" title="Грусть">';elseif($n===6)$html.='/ag.gif" width="20" height="20" alt=":-)" title="Смех">';elseif($n===7)$html.='/ab.gif" width="20" height="24" alt=":-):" title="Улыбка">';else$html.='/cool.gif" width="29" height="20" alt=":-:ok:-:" title="OK!">';elseif($n<13)if($n===9)$html.='/icon_e_confused.gif" width="15" height="17" alt=":-?" title="Confused">';elseif($n===10)$html.='/icon_e_biggrin.gif" width="15" height="17" alt=":-D" title="Very Happy">';elseif($n===11)$html.='/icon_razz.gif" width="15" height="17" alt=":-P" title="Razz">';else$html.='/icon_e_surprised.gif" width="15" height="17" alt=":-o" title="Surprised">';elseif($n===13)$html.='/bf.gif" width="40" height="26" alt=":-ok-:" title="OK">';elseif($n===14)$html.='/icon_mad.gif" width="15" height="17" alt=":-x" title="Mad">';elseif($n===15)$html.='/icon_neutral.gif" width="15" height="17" alt=":-|" title="Neutral">';else$html.='/bq.gif" width="43" height="27" alt=":-|-:" title=":-|-:">';elseif($n<25)if($n<21)if($n===17)$html.='/ae.gif" width="18" height="18" alt="::yaz-yk:" title="Язык дразнила">';elseif($n===18)$html.='/1.gif" width="15" height="15" alt=":;(:" title="((">';elseif($n===19)$html.='/9.gif" width="15" height="15" alt=":;;D:" title=";;D">';else$html.='/4.gif" width="15" height="15" alt=":;D:" title=";D">';elseif($n===21)$html.='/bg.gif" width="28" height="25" alt=":;ne_gr:" title="Негр">';elseif($n===22)$html.='/icon_e_confused.gif" width="15" height="17" alt=":?" title="Confused">';elseif($n===23)$html.='/icon_question.gif" width="15" height="17" alt=":?:" title="Question">';else$html.='/icon_e_confused.gif" width="15" height="17" alt=":???:" title="Confused">';elseif($n<29)if($n===25)$html.='/icon_e_biggrin.gif" width="15" height="17" alt=":D" title="Very Happy">';elseif($n===26)$html.='/5.gif" width="15" height="15" alt=":O_O:" title="O_O">';elseif($n===27)$html.='/icon_razz.gif" width="15" height="17" alt=":P" title="Razz">';else$html.='/bs.gif" width="20" height="24" alt=":a_g_a:" title="Ага">';elseif($n===29)$html.='/KidRock_07.gif" width="58" height="41" alt=":ad_min_v_duhe:" title="Admin v duhe">';elseif($n===30)$html.='/aikido.gif" width="50" height="30" alt=":aiki-do:" title="Айкидо">';elseif($n===31)$html.='/russian.gif" width="40" height="40" alt=":al_kana_ft:" title="Алкаш">';else$html.='/JC_cupidboy.gif" width="46" height="54" alt=":an)(gel:" title="Angel">';elseif($n<49)if($n<41)if($n<37)if($n===33)$html.='/angel.gif" width="27" height="26" alt=":an_gel:" title="Ангел">';elseif($n===34)$html.='/scenic.gif" width="49" height="27" alt=":ar_ti_st:" title="Артист">';elseif($n===35)$html.='/icon_arrow.gif" width="15" height="17" alt=":arrow:" title="Arrow">';else$html.='/kiss.gif" width="30" height="21" alt=":ba_bo_ch_ka:" title="Девочка">';elseif($n===37)$html.='/neo.gif" width="33" height="24" alt=":bet_ment:" title="Бетмен">';elseif($n===38)$html.='/orc.gif" width="69" height="37" alt=":bo_ga_tyr:" title="Богатырь">';elseif($n===39)$html.='/bb.gif" width="28" height="24" alt=":bomb:" title="Бомба">';else$html.='/bi.gif" width="40" height="27" alt=":bra_vo:" title="Браво!">';elseif($n<45)if($n===41)$html.='/Mauridia_21.gif" width="50" height="30" alt=":chir_lider:" title="Chir Lider">';elseif($n===42)$html.='/ay.gif" width="26" height="23" alt=":co_ol:" title="Круто">';elseif($n===43)$html.='/2.gif" width="25" height="20" alt=":cool2:" title="cool2">';else$html.='/8.gif" width="16" height="16" alt=":cool3:" title="cool3">';elseif($n===45)$html.='/icon_cool.gif" width="15" height="17" alt=":cool:" title="Cool">';elseif($n===46)$html.='/cool2.gif" width="38" height="20" alt=":cool_cool:" title="Круто!!!">';elseif($n===47)$html.='/icon_cry.gif" width="15" height="17" alt=":cry:" title="Crying or Very Sad">';else$html.='/ak.gif" width="31" height="22" alt=":cry_ing:" title="Плачет">';elseif($n<57)if($n<53)if($n===49)$html.='/dw.gif" width="43" height="40" alt=":cve_ty:" title="Цветы">';elseif($n===50)$html.='/bo.gif" width="39" height="26" alt=":dan_ser:" title="Танцор">';elseif($n===51)$html.='/dance4.gif" width="39" height="26" alt=":danser_dans:" title="Танцор!!!">';else$html.='/aq.gif" width="39" height="34" alt=":de_vil:" title="Чертик">';elseif($n===53)$html.='/fc.gif" width="57" height="29" alt=":ded_moroz:" title="Дед Мороз">';elseif($n===54)$html.='/brunette.gif" width="35" height="31" alt=":dev_ka:" title="Девка">';elseif($n===55)$html.='/az.gif" width="51" height="28" alt=":dr_ink:" title="Выпьпивка">';else$html.='/am.gif" width="36" height="27" alt=":dra_chun:" title="Драка">';elseif($n<61)if($n===57)$html.='/girl_wacko.gif" width="36" height="24" alt=":du-ra:" title="%-%">';elseif($n===58)$html.='/duel.gif" width="100" height="34" alt=":du_el:" title="Дуэль!">';elseif($n===59)$html.='/bw.gif" width="27" height="24" alt=":du_ma_et:" title="Думает">';else$html.='/eat2.gif" width="31" height="26" alt=":e-d-a:" title="Еда!">';elseif($n===61)$html.='/icon_e_surprised.gif" width="15" height="17" alt=":eek:" title="Surprised">';elseif($n===62)$html.='/icon_evil.gif" width="15" height="17" alt=":evil:" title="Evil or Very Mad">';elseif($n===63)$html.='/likeff_man.gif" width="50" height="30" alt=":ex_po_bo_ku:" title="Ex-">';else$html.='/likeopera_man.gif" width="52" height="30" alt=":exp_minus:" title="Ope+">';elseif($n<98)if($n<82)if($n<74)if($n<70)if($n<68)if($n===65)$html.='/KidRock_03.gif" width="57" height="41" alt=":f-l-u-d:" title="Флуд!">';elseif($n===66)$html.='/JC_parents-girl.gif" width="66" height="30" alt=":fe_me_ly:" title="Семья">';else$html.='/feminist.gif" width="54" height="49" alt=":fe_mi_ni_zm;" title="Феминизм">';elseif($n===68)$html.='/d_canon.gif" width="46" height="39" alt=":fo_tik:" title="Фотик">';else$html.='/football.gif" width="20" height="47" alt=":foo_t_bol:" title="Футбол">';elseif($n===70)$html.='/10.gif" width="37" height="21" alt=":fuck:" title="fuck">';elseif($n===71)$html.='/read.gif" width="27" height="27" alt=":ga-ze-ta;" title="Газета">';elseif($n===72)$html.='/fx.gif" width="50" height="45" alt=":gar_mo:nist:" title="Гармонист">';else$html.='/icon_e_geek.gif" width="17" height="17" alt=":geek:" title="Geek">';elseif($n<78)if($n===74)$html.='/he.gif" width="42" height="29" alt=":gim-nast:" title="Гимнаст">';elseif($n===75)$html.='/aw.gif" width="47" height="24" alt=":gir_l-fri_end:" title="Подруга">';elseif($n===76)$html.='/13.gif" width="25" height="18" alt=":good:" title="good">';else$html.='/heat.gif" width="33" height="29" alt=":goria_cho:" title="Горячо!!!">';elseif($n===78)$html.='/icon_e_biggrin.gif" width="15" height="17" alt=":grin:" title="Very Happy">';elseif($n===79)$html.='/ba.gif" width="20" height="20" alt=":hea_rt:" title="Сердце">';elseif($n===80)$html.='/ap.gif" width="25" height="25" alt=":hi_hi_hi:" title="хи-хи-хи">';else$html.='/nhl.gif" width="46" height="38" alt=":ho-key:" title="Ххокеист">';elseif($n<90)if($n<86)if($n===82)$html.='/connieslingshotxt0.gif" width="63" height="22" alt=":hu_li:gan:" title="Хулиган">';elseif($n===83)$html.='/ho.gif" width="41" height="28" alt=":hudo_zhnik:" title="Художник">';elseif($n===84)$html.='/icon_idea.gif" width="15" height="17" alt=":idea:" title="Idea">';else$html.='/Laie_73.gif" width="45" height="35" alt=":ig_ro_ki:" title="Igroki">';elseif($n===86)$html.='/to_become_senile.gif" width="38" height="24" alt=":igru_shka:" title="Игрушка">';elseif($n===87)$html.='/girl_cray2.gif" width="38" height="24" alt=":is_te_ri_ka:" title="Истерика!">';elseif($n===88)$html.='/smoke.gif" width="35" height="30" alt=":jn_pu_sk:" title="Otpusk">';else$html.='/king2.gif" width="38" height="28" alt=":k_i_n_g:" title="King">';elseif($n<94)if($n===90)$html.='/Laie_34.gif" width="60" height="35" alt=":kav_boy:" title="Ковбой">';elseif($n===91)$html.='/as.gif" width="23" height="26" alt=":ki-)(-:" title="Поцелуй!">';elseif($n===92)$html.='/king.gif" width="28" height="28" alt=":ki_ng:" title="King!">';else$html.='/aj.gif" width="34" height="23" alt=":ki_ss:" title="Пцелуй">';elseif($n===94)$html.='/be.gif" width="20" height="24" alt=":kli_ny:" title="Клины!!!">';elseif($n===95)$html.='/Laie_11.gif" width="66" height="34" alt=":ko_pi_lka:" title="Копилка">';elseif($n===96)$html.='/friends.gif" width="52" height="28" alt=":ko_re:sha:" title="Друзья">';else$html.='/st.gif" width="31" height="26" alt=":ku_bok:" title="Кубок">';elseif($n<114)if($n<106)if($n<102)if($n===98)$html.='/first_move.gif" width="55" height="24" alt=":lo)(ve:" title="Love!">';elseif($n===99)$html.='/give_heart.gif" width="28" height="25" alt=":lo_ve:" title="Любовь!">';elseif($n===100)$html.='/icon_lol.gif" width="15" height="17" alt=":lol:" title="Laughing">';else$html.='/icon_mad.gif" width="15" height="17" alt=":mad:" title="Mad">';elseif($n===102)$html.='/girl_hospital.gif" width="42" height="25" alt=":med_ses_tra:" title="Медсестра">';elseif($n===103)$html.='/af.gif" width="21" height="21" alt=":men:" title="Крутой">';elseif($n===104)$html.='/ad.gif" width="20" height="20" alt=":mi_ga_et:" title="Мигает">';else$html.='/d_ice.gif" width="31" height="37" alt=":mo-ro_zi_vo:" title="Мороженное!">';elseif($n<110)if($n===106)$html.='/icon_mrgreen.gif" width="15" height="17" alt=":mrgreen:" title="Mr. Green">';elseif($n===107)$html.='/ar.gif" width="28" height="25" alt=":mu_zyk:" title="Музыка">';elseif($n===108)$html.='/girl_witch.gif" width="46" height="31" alt=":na_met_le:" title="На метле">';else$html.='/16.gif" width="64" height="33" alt=":nalodke2:" title="nalodke2">';elseif($n===110)$html.='/14.gif" width="62" height="23" alt=":nalodke:" title="nalodke">';elseif($n===111)$html.='/fie.gif" width="20" height="20" alt=":ne_ne_ne:" title="нет, нет, нет">';elseif($n===112)$html.='/KidRock_05.gif" width="51" height="43" alt=":ne_ot_ho_di:" title="Не отходи от темы!">';else$html.='/bn.gif" width="32" height="20" alt=":ne_vi_del:" title="Не видал?">';elseif($n<122)if($n<118)if($n===114)$html.='/nono.gif" width="25" height="25" alt=":nel-zya:" title="Нельзя!!!">';elseif($n===115)$html.='/bk.gif" width="36" height="26" alt=":nez-nayu:" title="Не знаю">';elseif($n===116)$html.='/bt.gif" width="27" height="24" alt=":ni_zia:" title="Нельзя!">';else$html.='/bh.gif" width="24" height="22" alt=":ny_tik:" title="Нытик">';elseif($n===118)$html.='/icon_e_surprised.gif" width="15" height="17" alt=":o" title="Surprised">';elseif($n===119)$html.='/hang2.gif" width="27" height="35" alt=":obdol_bysh:" title="Наркот">';elseif($n===120)$html.='/hunter.gif" width="48" height="38" alt=":ohot_nik:" title="Охотник">';else$html.='/fans.gif" width="72" height="35" alt=":ole_ole:" title="Оле-оле-оле">';elseif($n<126)if($n===122)$html.='/11.gif" width="23" height="15" alt=":omg:" title="omg">';elseif($n===123)$html.='/12.gif" width="15" height="15" alt=":oo:" title="oo">';elseif($n===124)$html.='/icon_redface.gif" width="15" height="17" alt=":oops:" title="Embarrassed">';else$html.='/pioneerrr.gif" width="86" height="36" alt=":ot_riad:" title="Отряд">';elseif($n===126)$html.='/party.gif" width="90" height="26" alt=":p_a-r_t_y:" title="Party">';elseif($n===127)$html.='/butcher.gif" width="44" height="27" alt=":pa_la_ch:" title="Palach">';elseif($n===128)$html.='/drag_06.gif" width="60" height="32" alt=":pi_ra_t:" title="Pirat">';else$html.='/pir.gif" width="42" height="42" alt=":pi_rat:" title="Пират">';elseif($n<195)if($n<163)if($n<147)if($n<139)if($n<135)if($n<133)if($n===130)$html.='/pioneer.gif" width="29" height="33" alt=":pioner:" title="Пионер">';elseif($n===131)$html.='/bv.gif" width="36" height="26" alt=":pisa_tel:" title="Писатель!">';else$html.='/poz.gif" width="48" height="46" alt=":po_zor:" title="Позор">';elseif($n===133)$html.='/shar.gif" width="47" height="43" alt=":poz_drav_liayu:" title="Поздравляю">';else$html.='/br.gif" width="29" height="24" alt=":pri_vet:-:" title="Привет!!!">';elseif($n===135)$html.='/ha.gif" width="50" height="27" alt=":pro_spal:" title="Проспал">';elseif($n===136)$html.='/ew.gif" width="48" height="46" alt=":pro_tiv:" title="Я против">';elseif($n===137)$html.='/bm.gif" width="20" height="27" alt=":ps_ih:" title="Псих">';else$html.='/7.gif" width="51" height="38" alt=":qvok:" title="qvok">';elseif($n<143)if($n===139)$html.='/bd.gif" width="35" height="26" alt=":ras_pal_cov_ka:" title="Распальцовка">';elseif($n===140)$html.='/icon_razz.gif" width="15" height="17" alt=":razz:" title="Razz">';elseif($n===141)$html.='/18.gif" width="80" height="24" alt=":ribak2:" title="ribak2">';else$html.='/3.gif" width="50" height="18" alt=":ribak:" title="ribak">';elseif($n===143)$html.='/ax.gif" width="30" height="26" alt=":ro_za:" title="Роза">';elseif($n===144)$html.='/icon_rolleyes.gif" width="15" height="17" alt=":roll:" title="Rolling Eyes">';elseif($n===145)$html.='/paladin.gif" width="50" height="46" alt=":ry_car:" title="Рыцарь">';else$html.='/bc.gif" width="30" height="33" alt=":s_o_s:" title="SOS">';elseif($n<155)if($n<151)if($n===147)$html.='/icon_e_sad.gif" width="15" height="17" alt=":sad:" title="Sad">';elseif($n===148)$html.='/boyan.gif" width="52" height="29" alt=":se_lya_ne:" title="Селяне">';elseif($n===149)$html.='/ai.gif" width="20" height="20" alt=":sh_ok:" title="Шокирован">';else$html.='/jester.gif" width="43" height="30" alt=":sh_ut:" title="Шут">';elseif($n===151)$html.='/icon_eek.gif" width="15" height="17" alt=":shock:" title="Shocked">';elseif($n===152)$html.='/fu.gif" width="55" height="35" alt=":sk_ri_pa_ch:" title="Скрипач">';elseif($n===153)$html.='/icon_e_smile.gif" width="15" height="17" alt=":smile:" title="Smile">';else$html.='/s_2.gif" width="60" height="30" alt=":smile_10:" title="emotion_10">';elseif($n<159)if($n===155)$html.='/s_201.gif" width="15" height="15" alt=":smile_11:" title="emotion_11">';elseif($n===156)$html.='/s_213.gif" width="40" height="15" alt=":smile_12:" title="emotion_12">';elseif($n===157)$html.='/s_248.gif" width="20" height="18" alt=":smile_13:" title="emotion_13">';else$html.='/s_316.gif" width="24" height="21" alt=":smile_14:" title="emotion_14">';elseif($n===159)$html.='/s_37.gif" width="111" height="68" alt=":smile_15:" title="emotion_15">';elseif($n===160)$html.='/s_4.gif" width="64" height="52" alt=":smile_16:" title="emotion_16">';elseif($n===161)$html.='/s_63.gif" width="50" height="36" alt=":smile_17:" title="emotion_17">';else$html.='/s_76.gif" width="116" height="47" alt=":smile_18:" title="emotion_18">';elseif($n<179)if($n<171)if($n<167)if($n===163)$html.='/s_9.gif" width="100" height="34" alt=":smile_19:" title="emotion_19">';elseif($n===164)$html.='/s_001023.gif" width="39" height="18" alt=":smile_1:" title="emotion_1">';elseif($n===165)$html.='/s_Dancing-Chilli.gif" width="33" height="35" alt=":smile_20:" title="emotion_20">';else$html.='/s_JC_doubledown.gif" width="36" height="34" alt=":smile_21:" title="emotion_21">';elseif($n===167)$html.='/s_JC_doubleup.gif" width="36" height="26" alt=":smile_22:" title="emotion_22">';elseif($n===168)$html.='/s_JC_goodpost.gif" width="56" height="60" alt=":smile_23:" title="emotion_23">';elseif($n===169)$html.='/s_Sorry.gif" width="45" height="20" alt=":smile_24:" title="emotion_24">';else$html.='/s_admintutja.gif" width="43" height="50" alt=":smile_25:" title="emotion_25">';elseif($n<175)if($n===171)$html.='/s_alc.gif" width="57" height="28" alt=":smile_26:" title="emotion_26">';elseif($n===172)$html.='/s_appl.gif" width="35" height="31" alt=":smile_27:" title="emotion_27">';elseif($n===173)$html.='/s_blush200.gif" width="18" height="19" alt=":smile_28:" title="emotion_28">';else$html.='/s_bot.gif" width="57" height="21" alt=":smile_29:" title="emotion_29">';elseif($n===175)$html.='/s_08.gif" width="87" height="24" alt=":smile_2:" title="emotion_2">';elseif($n===176)$html.='/s_cheerleader2.gif" width="60" height="44" alt=":smile_30:" title="emotion_30">';elseif($n===177)$html.='/s_clap.gif" width="28" height="30" alt=":smile_31:" title="emotion_31">';else$html.='/s_cry.gif" width="30" height="24" alt=":smile_32:" title="emotion_32">';elseif($n<187)if($n<183)if($n===179)$html.='/s_dont.gif" width="44" height="46" alt=":smile_33:" title="emotion_33">';elseif($n===180)$html.='/s_drv.gif" width="55" height="44" alt=":smile_34:" title="emotion_34">';elseif($n===181)$html.='/s_fire.gif" width="35" height="25" alt=":smile_35:" title="emotion_35">';else$html.='/s_gun.gif" width="45" height="30" alt=":smile_36:" title="emotion_36">';elseif($n===183)$html.='/s_hook2.gif" width="31" height="43" alt=":smile_37:" title="emotion_37">';elseif($n===184)$html.='/s_kar.gif" width="40" height="28" alt=":smile_38:" title="emotion_38">';elseif($n===185)$html.='/s_kur_uch24.gif" width="20" height="15" alt=":smile_39:" title="emotion_39">';else$html.='/s_1.gif" width="42" height="45" alt=":smile_3:" title="emotion_3">';elseif($n<191)if($n===187)$html.='/s_ladysman.gif" width="55" height="19" alt=":smile_40:" title="emotion_40">';elseif($n===188)$html.='/s_leb.gif" width="74" height="22" alt=":smile_41:" title="emotion_41">';elseif($n===189)$html.='/s_mad3.gif" width="19" height="28" alt=":smile_42:" title="emotion_42">';else$html.='/s_mat.gif" width="44" height="40" alt=":smile_43:" title="emotion_43">';elseif($n===191)$html.='/s_noflood.gif" width="43" height="50" alt=":smile_44:" title="emotion_44">';elseif($n===192)$html.='/s_nono.gif" width="25" height="25" alt=":smile_45:" title="emotion_45">';elseif($n===193)$html.='/s_old.gif" width="32" height="28" alt=":smile_46:" title="emotion_46">';else$html.='/s_popc1.gif" width="35" height="35" alt=":smile_47:" title="emotion_47">';elseif($n<227)if($n<211)if($n<203)if($n<199)if($n===195)$html.='/s_pya.gif" width="43" height="23" alt=":smile_49:" title="emotion_49">';elseif($n===196)$html.='/s_101.gif" width="15" height="26" alt=":smile_4:" title="emotion_4">';elseif($n===197)$html.='/s_roflmao.gif" width="50" height="25" alt=":smile_50:" title="emotion_50">';else$html.='/s_scared.gif" width="18" height="30" alt=":smile_51:" title="emotion_51">';elseif($n===199)$html.='/s_smile.gif" width="37" height="18" alt=":smile_52:" title="emotion_52">';elseif($n===200)$html.='/s_splat.gif" width="47" height="39" alt=":smile_53:" title="emotion_53">';elseif($n===201)$html.='/s_thk.gif" width="30" height="32" alt=":smile_54:" title="emotion_54">';else$html.='/s_thumbsup.gif" width="25" height="18" alt=":smile_55:" title="emotion_55">';elseif($n<207)if($n===203)$html.='/s_thumbup.gif" width="38" height="20" alt=":smile_56:" title="emotion_56">';elseif($n===204)$html.='/s_tit.gif" width="49" height="43" alt=":smile_57:" title="emotion_57">';elseif($n===205)$html.='/s_tooth.gif" width="33" height="21" alt=":smile_58:" title="emotion_58">';else$html.='/s_ura1.gif" width="31" height="36" alt=":smile_59:" title="emotion_59">';elseif($n===207)$html.='/s_123.gif" width="2" height="7" alt=":smile_5:" title="emotion_5">';elseif($n===208)$html.='/s_viannen_102.gif" width="20" height="28" alt=":smile_60:" title="emotion_60">';elseif($n===209)$html.='/s_vis.gif" width="24" height="36" alt=":smile_61:" title="emotion_61">';else$html.='/s_wavey.gif" width="25" height="29" alt=":smile_62:" title="emotion_62">';elseif($n<219)if($n<215)if($n===211)$html.='/s_wink.gif" width="15" height="15" alt=":smile_63:" title="emotion_63">';elseif($n===212)$html.='/s_wow.gif" width="32" height="17" alt=":smile_64:" title="emotion_64">';elseif($n===213)$html.='/s_wub1.gif" width="22" height="29" alt=":smile_65:" title="emotion_65">';else$html.='/s_yaya.gif" width="20" height="29" alt=":smile_66:" title="emotion_66">';elseif($n===215)$html.='/s_129.gif" width="15" height="15" alt=":smile_6:" title="emotion_6">';elseif($n===216)$html.='/s_14.gif" width="42" height="45" alt=":smile_7:" title="emotion_7">';elseif($n===217)$html.='/s_148.gif" width="28" height="28" alt=":smile_8:" title="emotion_8">';else$html.='/s_150.gif" width="15" height="15" alt=":smile_9:" title="emotion_9">';elseif($n<223)if($n===219)$html.='/ah.gif" width="25" height="25" alt=":smu:sche_nie:" title="Смущение">';elseif($n===220)$html.='/hy.gif" width="42" height="43" alt=":son-ce:" title="Солнце">';elseif($n===221)$html.='/ext_spid.gif" width="51" height="25" alt=":spi_der:" title="Паук">';else$html.='/17.gif" width="30" height="25" alt=":spin2:" title="spin2">';elseif($n===223)$html.='/15.gif" width="56" height="50" alt=":spin:" title="spin">';elseif($n===224)$html.='/av.gif" width="36" height="23" alt=":st_op:" title="Стоп!">';elseif($n===225)$html.='/russian_ru.gif" width="31" height="30" alt=":st_ruskiy:" title="Старый Русский">';else$html.='/dance.gif" width="31" height="24" alt=":ta-ne-c:" title="Танцуй!">';elseif($n<243)if($n<235)if($n<231)if($n===227)$html.='/dance3.gif" width="42" height="25" alt=":ta_n_cor:" title="Танец">';elseif($n===228)$html.='/telephone.gif" width="44" height="26" alt=":te_le_fon:" title="Телефон">';elseif($n===229)$html.='/KidRock_06.gif" width="47" height="41" alt=":te_ma-clo_se:" title="Тема закрыта">';else$html.='/close_tema.gif" width="48" height="40" alt=":tema-close:" title="Тема закрыта">';elseif($n===231)$html.='/pleasantry.gif" width="36" height="26" alt=":ti_pa:" title="Типо...">';elseif($n===232)$html.='/al.gif" width="22" height="26" alt=":ts_ss:" title="Шопот">';elseif($n===233)$html.='/icon_twisted.gif" width="15" height="17" alt=":twisted:" title="Twisted Evil">';else$html.='/hi.gif" width="42" height="28" alt=":uch_tiv:" title="Учтиво!">';elseif($n<239)if($n===235)$html.='/icon_e_ugeek.gif" width="17" height="18" alt=":ugeek:" title="Uber Geek">';elseif($n===236)$html.='/oops.gif" width="48" height="49" alt=":ups:" title="Упс!">';elseif($n===237)$html.='/dwarf.gif" width="46" height="48" alt=":v_i_k_i_n_g:" title="Viking">';else$html.='/girl_werewolf.gif" width="46" height="29" alt=":ved_ma:" title="Ведьма">';elseif($n===239)$html.='/snoozer_likelinux_man.gif" width="50" height="30" alt=":windows_must_die:" title="WMD">';elseif($n===240)$html.='/icon_e_wink.gif" width="15" height="17" alt=":wink:" title="Wink">';elseif($n===241)$html.='/dash3.gif" width="51" height="26" alt=":wo)(ll:" title="Woll">';else$html.='/bu.gif" width="51" height="26" alt=":wo_ol:" title="Стена">';elseif($n<251)if($n<247)if($n===243)$html.='/moil.gif" width="41" height="37" alt=":wo_rk:" title="Работа">';elseif($n===244)$html.='/icon_mad.gif" width="15" height="17" alt=":x" title="Mad">';elseif($n===245)$html.='/ex.gif" width="48" height="46" alt=":ya-za:" title="Я за">';else$html.='/bp.gif" width="42" height="27" alt=":ya_hoo_oo:" title="Восторг">';elseif($n===247)$html.='/ao.gif" width="28" height="28" alt=":za_da_va_la:" title="Задавала">';elseif($n===248)$html.='/beach.gif" width="34" height="33" alt=":za_gar:" title="Загарает">';elseif($n===249)$html.='/at.gif" width="21" height="21" alt=":ze_le_ny:" title="Зеленый">';else$html.='/au.gif" width="26" height="22" alt=":ze_va_et:" title="Зевает">';elseif($n<255)if($n===251)$html.='/ck.gif" width="35" height="29" alt=":zvez_ochki:" title="Звезданули!">';elseif($n===252)$html.='/icon_neutral.gif" width="15" height="17" alt=":|" title="Neutral">';elseif($n===253)$html.='/icon_e_wink.gif" width="15" height="17" alt=";)" title="Wink">';else$html.='/icon_e_wink.gif" width="15" height="17" alt=";-)" title="Wink">';elseif($n===255)$html.='/bj.gif" width="29" height="25" alt=";;-)))" title="ХА-ХА-ХА">';elseif($n===256)$html.='/slow.gif" width="38" height="26" alt=";tor_moz:" title="Тормоз">';elseif($n===257)$html.='/KidRock_01.gif" width="40" height="42" alt=";wont_a_ban:" title="Хочешь бан?">';else$html.='/6.gif" width="15" height="15" alt="xni:" title="xni">';}else$html.=htmlspecialchars($textContent,0);}elseif($qb===4){$attributes+=array('email'=>null,'body'=>null);$html='<a href="mailto:'.$attributes['email'];if(isset($attributes['subject'])||isset($attributes['body'])){$html.='?';if(isset($attributes['subject']))$html.='subject='.$attributes['subject'];if(isset($attributes['body'])){if(isset($attributes['subject']))$html.='&amp;';$html.='body='.$attributes['body'];}}$html.='">';}else{$attributes+=array('seq'=>null);$html='';if(!empty($this->params['S_VIEWSMILIES']))$html.='<img alt="'.htmlspecialchars($textContent,2).'" class="emoji smilies" draggable="false" src="//cdn.jsdelivr.net/emojione/assets/svg/'.$attributes['seq'].'.svg">';else$html.=htmlspecialchars($textContent,0);}elseif($qb<9)if($qb===6){$attributes+=array('text'=>null);$html=str_replace('&quot;','"',$attributes['text']);}elseif($qb===7){$attributes+=array('type'=>null);$html='';if(!isset($attributes['type']))$html.='<ul>';elseif((strpos('upperlowerdecim',mb_substr(htmlspecialchars_decode($attributes['type']),0,5,'utf-8'))!==false))$html.='<ol style="list-style-type: '.$attributes['type'].'">';else$html.='<ul style="list-style-type: '.$attributes['type'].'">';self::$attributes[]=$attributes;}else{$attributes+=array('content'=>null);$html='<a href="./viewtopic.php?p='.$attributes['content'].'#p'.$attributes['content'].'"><span class="imageset icon_topic_latest" title="'.htmlspecialchars($this->params['L_QR_BBPOST'],2).'">'.htmlspecialchars($this->params['L_QR_BBPOST'],0).'</span></a>';}elseif($qb===9){$attributes+=array('url'=>null,'author'=>null,'post_id'=>null);$html='<blockquote';if(!isset($attributes['author']))$html.=' class="uncited"';$html.='><div>';if(isset($attributes['author'])){$html.='<cite>';if(isset($attributes['url']))$html.='<a href="'.$attributes['url'].'" class="postlink">'.str_replace('&quot;','"',$attributes['author']).'</a>';elseif(isset($attributes['profile_url']))$html.='<a href="'.$attributes['profile_url'].'">'.str_replace('&quot;','"',$attributes['author']).'</a>';else$html.=str_replace('&quot;','"',$attributes['author']);$html.=' '.htmlspecialchars($this->params['L_WROTE'].$this->params['L_COLON'],0);if(isset($attributes['post_url']))$html.=' <a href="'.$attributes['post_url'].'" data-post-id="'.$attributes['post_id'].'" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a>';if(isset($attributes['date']))$html.='<div class="responsive-hide">'.str_replace('&quot;','"',$attributes['date']).'</div>';$html.='</cite>';}}else{$attributes+=array('content'=>null);$html='<a href="'.$attributes['content'].'" class="bbvideo" data-bbvideo="560,315">'.str_replace('&quot;','"',$attributes['content']).'</a>';}

		return $html;
	}
}